(function(e){function t(t){for(var n,r,s=t[0],i=t[1],d=t[2],l=0,j=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&j.push(c[r][0]),c[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(j.length)j.shift()();return a.push.apply(a,d||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,s=1;s<o.length;s++){var i=o[s];0!==c[i]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},c={app:0},a=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/pomodoro_vue/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=i;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"01ed":function(e,t,o){},"0229":function(e,t,o){"use strict";o("04aa")},"04aa":function(e,t,o){},"09c6":function(e,t,o){"use strict";o("db39")},"2edc":function(e,t,o){"use strict";o("cd48")},"324a":function(e,t,o){},"395a":function(e,t,o){},"4e7f":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),c={class:"wrap"},a={class:"main"};function r(e,t,o,r,s,i){var d=Object(n["A"])("side-bar"),u=Object(n["A"])("router-view");return Object(n["t"])(),Object(n["e"])("div",c,[Object(n["h"])(d),Object(n["h"])("div",a,[Object(n["h"])(u,null,{default:Object(n["K"])((function(e){var t=e.Component;return[Object(n["h"])(n["b"],{name:"fade",mode:"out-in"},{default:Object(n["K"])((function(){return[(Object(n["t"])(),Object(n["e"])(Object(n["B"])(t)))]})),_:2},1024)]})),_:1})])])}var s={class:"side_bar_toggle"},i=Object(n["h"])("div",{class:"profile"},[Object(n["h"])("img",{src:"assets/img/smileface.png",alt:""}),Object(n["h"])("div",{class:"profile_name"},"User")],-1),d={class:"menu"},u=Object(n["h"])("span",{class:"material-icons"},"person",-1),l=Object(n["g"])("Dashboard "),j=Object(n["h"])("span",{class:"material-icons"},"bar_chart",-1),b=Object(n["g"])("Analytics "),m=Object(n["h"])("div",{class:"login"},[Object(n["h"])("span",{class:"material-icons"},"keyboard_return"),Object(n["g"])(" Sign out ")],-1);function p(e,t,o,c,a,r){var p=Object(n["A"])("router-link");return Object(n["t"])(),Object(n["e"])(n["a"],null,[Object(n["h"])("div",s,[Object(n["h"])("span",{class:"material-icons",onClick:t[1]||(t[1]=function(e){return a.open=!0})},"menu")]),Object(n["h"])("div",{class:["side_bar_bg",{active:a.open}],onClick:t[2]||(t[2]=function(e){return a.open=!1})},null,2),Object(n["h"])("div",{class:["side_bar",{active:a.open}]},[Object(n["h"])("div",{class:"title",style:{color:e.isBreak?a.break_color[1]:a.work_color[1]}},"POMODORO",4),i,Object(n["h"])("div",d,[Object(n["h"])(p,{custom:"",to:{name:"Home"}},{default:Object(n["K"])((function(e){var o=e.isExactActive;return[Object(n["h"])("div",{class:["menu_item",[o&&"active"]],onClick:t[3]||(t[3]=function(e){return r.useRouter("Home")})},[u,l],2)]})),_:1}),Object(n["h"])(p,{custom:"",to:{name:"Analytics"}},{default:Object(n["K"])((function(e){var o=e.isActive;return[Object(n["h"])("div",{class:["menu_item",[o&&"active"]],onClick:t[4]||(t[4]=function(e){return r.useRouter("Analytics")})},[j,b],2)]})),_:1})]),m],2)],64)}var O=o("5530"),h=o("5502"),f={name:"sidebar",data:function(){return{work_color:["#FBC2EB","#A6C1EE"],break_color:["#FBED96","#ABECD6"],open:!1,screen_width:0,styleSideBar:{transform:"translate(0)"}}},computed:Object(O["a"])(Object(O["a"])({},Object(h["e"])(["isBreak"])),{},{nowColor:function(){return this.isBreak?this.break_color:this.work_color}}),watch:{screen_width:function(e){this.open=e>768}},methods:{handleResize:function(){this.screen_width=window.innerWidth},useRouter:function(e){this.open=!1,this.$router.push({name:"".concat(e)})}},mounted:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},beforeUnmount:function(){window.removeEventListener("resize",this.handleResize)}},k=function(){Object(n["G"])((function(e){return{"0f63d73d":e.nowColor[0],"0f63d75c":e.nowColor[1]}}))},v=f.setup;f.setup=v?function(e,t){return k(),v(e,t)}:k;var _=f;o("09c6");_.render=p;var g=_,y={components:{sideBar:g},mounted:function(){this.$store.dispatch("initProjects")}};o("c04b");y.render=r;var T=y,x=o("6c02"),I=(o("b0c0"),{class:"duration_toggle_wrap"}),D={class:"duration_toggle"};function w(e,t,o,c,a,r){var s=Object(n["A"])("router-link"),i=Object(n["A"])("router-view");return Object(n["t"])(),Object(n["e"])("section",null,[Object(n["h"])("div",I,[Object(n["h"])("div",D,[Object(n["h"])(s,{custom:"",to:{name:"WeekAnalytics"}},{default:Object(n["K"])((function(e){var t=e.navigate,o=e.isExactActive;return[Object(n["h"])("span",{class:["material-icons",{active:o}],onClick:t}," navigate_before ",10,["onClick"])]})),_:1}),Object(n["h"])("span",{class:"title",textContent:Object(n["D"])("DayAnalytics"===this.$route.name?"Today":"This week")},null,8,["textContent"]),Object(n["h"])(s,{custom:"",to:{name:"DayAnalytics"}},{default:Object(n["K"])((function(e){var t=e.navigate,o=e.isExactActive;return[Object(n["h"])("span",{class:["material-icons",{active:o}],onClick:t}," navigate_next ",10,["onClick"])]})),_:1})])]),Object(n["h"])(i,null,{default:Object(n["K"])((function(e){var t=e.Component;return[Object(n["h"])(n["b"],{name:"fade",mode:"out-in"},{default:Object(n["K"])((function(){return[(Object(n["t"])(),Object(n["e"])(Object(n["B"])(t)))]})),_:2},1024)]})),_:1})])}var C={name:"Analytics"};o("2edc");C.render=w;var P=C,B={class:"analytics_board"},A={class:"day_graph"},E={class:"day_summary"},S={class:"summary_item"},M=Object(n["h"])("div",{class:"title"}," Pomodoro ",-1),N={class:"content"},F={class:"summary_item"},z=Object(n["h"])("div",{class:"title"}," Task ",-1),W={class:"content"};function R(e,t,o,c,a,r){var s=Object(n["A"])("day-graph-item");return Object(n["t"])(),Object(n["e"])("div",B,[Object(n["h"])("div",A,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.daySummary.todayDonePomodoro,(function(e,t){return Object(n["t"])(),Object(n["e"])(s,{key:t,item:e,color:e.color,maxPomodoroCount:r.daySummary.maxPomodoroCount},null,8,["item","color","maxPomodoroCount"])})),128))]),Object(n["h"])("div",E,[Object(n["h"])("div",S,[M,Object(n["h"])("div",N,Object(n["D"])(r.daySummary.DonePomodoroCount),1)]),Object(n["h"])("div",F,[z,Object(n["h"])("div",W,Object(n["D"])(r.daySummary.DoneTaskCount),1)])])])}o("159b");var K=Object(n["N"])("data-v-2812ffd2");Object(n["w"])("data-v-2812ffd2");var G={class:"graph_item"},H={class:"graph_item_name"},q={class:"graph_item_line_wrap"},L={class:"graph_item_line"},Y=Object(n["h"])("span",null,null,-1),U={class:"graph_item_time"};Object(n["u"])();var J=K((function(e,t,o,c,a,r){return Object(n["t"])(),Object(n["e"])("div",G,[Object(n["h"])("div",H,Object(n["D"])(o.item.taskName),1),Object(n["h"])("div",q,[Object(n["h"])("div",L,[Y,Object(n["h"])("div",U,Object(n["D"])(o.item.donePomodoro)+"個 ",1)])])])})),$={props:["item","color","maxPomodoroCount"],computed:{graphItemWidth:function(){return"".concat(this.item.donePomodoro/this.maxPomodoroCount*100,"%")}}},V=function(){Object(n["G"])((function(e){return{"17a47bf0":e.graphItemWidth,"502993d8":e.color}}))},Q=$.setup;$.setup=Q?function(e,t){return V(),Q(e,t)}:V;var X=$;o("d0cf");X.render=J,X.__scopeId="data-v-2812ffd2";var Z=X,ee={computed:Object(O["a"])(Object(O["a"])({},Object(h["e"])(["projects"])),{},{daySummary:function(){var e=new Date(Date.now()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),o=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=[],c=0,a=0,r=0;return this.projects.forEach((function(e){e.tasks.forEach((function(s){var i=0;s.done_pomodoro.forEach((function(e){e>o&&e<t&&(i+=1,a+=1)})),i>0&&(i>r&&(r=i),n.push({taskName:s.name,donePomodoro:i,color:e.color})),s.done&&s.doneDate>o&&s.doneDate<t&&(c+=1)}))})),{todayDonePomodoro:n,DoneTaskCount:c,DonePomodoroCount:a,maxPomodoroCount:r}}}),components:{DayGraphItem:Z}};ee.render=R;var te=ee,oe=(o("fb6a"),{class:"analytics_board"}),ne={class:"week_graph_wrap"},ce={class:"week_graph"},ae={class:"bar_item_wrap"},re=Object(n["h"])("div",{class:"frame_wrap"},[Object(n["h"])("div",{class:"measure"},[Object(n["h"])("div",null,[Object(n["h"])("span",null,"20")]),Object(n["h"])("div",null,[Object(n["h"])("span",null,"16")]),Object(n["h"])("div",null,[Object(n["h"])("span",null,"12")]),Object(n["h"])("div",null,[Object(n["h"])("span",null,"8")]),Object(n["h"])("div",null,[Object(n["h"])("span",null,"4")])]),Object(n["h"])("div",{class:"frame"})],-1),se={class:"week_summary"},ie={class:"time_summary"},de={class:"summary_item"},ue=Object(n["h"])("div",{class:"title"}," Pomodoro ",-1),le={class:"content"},je={class:"summary_item"},be=Object(n["h"])("div",{class:"title"}," Task ",-1),me={class:"content"},pe={class:"project_summary"},Oe={class:"icon"},he={class:"name"},fe={class:"time"};function ke(e,t,o,c,a,r){var s=Object(n["A"])("week-graph-item");return Object(n["t"])(),Object(n["e"])("div",oe,[Object(n["h"])("div",ne,[Object(n["h"])("div",ce,[Object(n["h"])("div",ae,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.WeekSummary.thisWeek.slice(0).reverse(),(function(e){return Object(n["t"])(),Object(n["e"])(s,{key:e,day:e},null,8,["day"])})),128))]),re])]),Object(n["h"])("div",se,[Object(n["h"])("div",ie,[Object(n["h"])("div",de,[ue,Object(n["h"])("div",le,Object(n["D"])(r.totalPomodoro),1)]),Object(n["h"])("div",je,[be,Object(n["h"])("div",me,Object(n["D"])(r.WeekSummary.totalTask),1)])]),Object(n["h"])("div",pe,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.singleProjectPomodoro,(function(e){return Object(n["t"])(),Object(n["e"])("div",{class:"item",key:e},[Object(n["h"])("div",Oe,[Object(n["h"])("span",{style:{"background-color":e.color}},null,4)]),Object(n["h"])("div",he,Object(n["D"])(e.projectName),1),Object(n["h"])("div",fe,Object(n["D"])(e.pomodoroCount)+"個",1)])})),128))])])])}o("d3b7"),o("6062"),o("3ca3"),o("ddb0"),o("99af");var ve=Object(n["N"])("data-v-3ff6bc40");Object(n["w"])("data-v-3ff6bc40");var _e={class:"bar_item"},ge=Object(n["h"])("div",{class:"bar"},[Object(n["h"])("span")],-1),ye={class:"bar_info"},Te={class:"date"},xe={class:"projects"};Object(n["u"])();var Ie=ve((function(e,t,o,c,a,r){return Object(n["t"])(),Object(n["e"])("div",_e,[ge,Object(n["h"])("div",ye,[Object(n["h"])("div",Te,[Object(n["h"])("div",null,Object(n["D"])(a.weekdayName[r.date.getDay()]),1),Object(n["h"])("div",null,Object(n["D"])("".concat(r.date.getMonth()+1,"/").concat(r.date.getDate())),1)]),Object(n["h"])("div",xe,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(o.day.projectList,(function(e){return Object(n["t"])(),Object(n["e"])("span",{key:e,style:{"background-color":e}},null,4)})),128))])])])})),De={props:["day"],data:function(){return{weekdayName:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},computed:{barHeight:function(){return"".concat(this.day.pomodoro/20*100,"%")},date:function(){return new Date(this.day.time)}}},we=function(){Object(n["G"])((function(e){return{"44f7f284":e.barHeight}}))},Ce=De.setup;De.setup=Ce?function(e,t){return we(),Ce(e,t)}:we;var Pe=De;o("0229");Pe.render=Ie,Pe.__scopeId="data-v-3ff6bc40";var Be=Pe,Ae={components:{WeekGraphItem:Be},computed:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(h["e"])(["projects"])),Object(h["c"])(["todayTimestamp"])),{},{WeekSummary:function(){for(var e=this,t=this.todayTimestamp,o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=[],c=0,a=0;a<7;a+=1)n.push({time:o-864e5*a,pomodoro:0,projectList:new Set});return this.projects.forEach((function(t,o){t.tasks.forEach((function(t){t.done_pomodoro.forEach((function(t){for(var c=0;c<7;c+=1)t>n[c].time&&t<n[c].time+864e5&&(n[c].pomodoro+=1,n[c].projectList.add(e.projects[o].color))})),t.done&&t.doneDate>n[6].time&&t.doneDate<n[0].time+864e5&&(c+=1)}))})),{thisWeek:n,totalTask:c}},totalPomodoro:function(){var e=0;return this.WeekSummary.thisWeek.forEach((function(t){e+=t.pomodoro})),e},singleProjectPomodoro:function(){var e=new Date(Date.now()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),o=[];return this.projects.forEach((function(e){var n=0;e.tasks.forEach((function(e){e.done_pomodoro.forEach((function(e){e>t-5184e5&&e<t+864e5&&(n+=1)}))})),o.push({projectName:e.projectName,color:e.color,pomodoroCount:n})})),o}})};Ae.render=ke;var Ee=Ae,Se={class:"main_title"},Me=Object(n["h"])("span",{class:"material-icons"},"add",-1),Ne=Object(n["g"])("NEW PROJECT "),Fe={class:"focus_board"},ze={class:"time_record"},We={class:"record_title"},Re=Object(n["h"])("span",null,"Today",-1),Ke={class:"record_time"},Ge=Object(n["h"])("span",{class:"unit"},"/pomodoro",-1),He={class:"task_board"},qe={class:"todo_project_wrap"},Le={class:"done_project"},Ye=Object(n["h"])("div",{class:"done_title"},"DONE",-1),Ue={class:"done_list"},Je=Object(n["h"])("div",{class:"project_add_board_title"},"新增專案",-1),$e=Object(n["h"])("label",{for:""},"專案名稱",-1),Ve=Object(n["h"])("label",{for:""},"代表色彩",-1),Qe=Object(n["h"])("button",null,"提交",-1);function Xe(e,t,o,c,a,r){var s=Object(n["A"])("timer"),i=Object(n["A"])("router-link"),d=Object(n["A"])("todo-project"),u=Object(n["A"])("done-item"),l=Object(n["A"])("error-message"),j=Object(n["A"])("vee-field"),b=Object(n["A"])("vee-form");return Object(n["t"])(),Object(n["e"])("section",null,[Object(n["h"])("div",Se,[Object(n["h"])("span",{textContent:Object(n["D"])(e.isBreak?"Break Time":"Focus Time")},null,8,["textContent"]),Object(n["h"])("button",{style:{"background-color":e.isBreak?a.breakColor:a.workColor},onClick:t[1]||(t[1]=Object(n["M"])((function(e){return a.addProjectBoard=!a.addProjectBoard}),["prevent"]))},[Me,Ne],4)]),Object(n["h"])("div",Fe,[Object(n["h"])(s),Object(n["h"])("div",ze,[Object(n["h"])("div",We,[Re,Object(n["h"])(i,{custom:"",to:{name:"Analytics"}},{default:Object(n["K"])((function(e){var t=e.navigate;return[Object(n["h"])("button",{onClick:t},"More",8,["onClick"])]})),_:1})]),Object(n["h"])("div",Ke,[Object(n["h"])("span",null,[Object(n["g"])(Object(n["D"])(e.DoneTaskCount)+" ",1),Ge])])])]),Object(n["h"])("div",He,[Object(n["h"])("div",qe,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(e.projectIndex,(function(t){return Object(n["t"])(),Object(n["e"])(d,{key:t,project:e.projects[t],projectIndex:t},null,8,["project","projectIndex"])})),128))]),Object(n["h"])("div",Le,[Ye,Object(n["h"])("div",Ue,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(e.doneTasks.slice(0).reverse(),(function(e){return Object(n["t"])(),Object(n["e"])(u,{key:e,doneTask:e},null,8,["doneTask"])})),128))])])]),Object(n["h"])(n["b"],{name:"fade"},{default:Object(n["K"])((function(){return[a.addProjectBoard?(Object(n["t"])(),Object(n["e"])("div",{key:0,class:"project_add_board",onClick:t[3]||(t[3]=function(e){return a.addProjectBoard=!a.addProjectBoard})},[Object(n["h"])(b,{"validation-schema":a.schema,onClick:t[2]||(t[2]=Object(n["M"])((function(){}),["stop"])),onSubmit:r.addProject},{default:Object(n["K"])((function(){return[Je,$e,Object(n["h"])(l,{name:"projectName",class:"error_message"}),Object(n["h"])(j,{type:"text",name:"projectName"}),Ve,Object(n["h"])(l,{name:"color",class:"error_message"}),Object(n["h"])(j,{type:"color",name:"color"}),Qe]})),_:1},8,["validation-schema","onSubmit"])])):Object(n["f"])("",!0)]})),_:1})])}var Ze={class:"timer"},et={class:"clock"},tt={class:"current_task_wrap"},ot={class:"current_task"},nt={class:"task_pomodoro"};function ct(e,t,o,c,a,r){return Object(n["t"])(),Object(n["e"])("div",Ze,[Object(n["h"])("div",et,[Object(n["h"])("div",null,Object(n["D"])(e.time),1)]),Object(n["h"])("div",tt,[Object(n["h"])("div",ot,[Object(n["h"])("div",{class:"task_title",textContent:Object(n["D"])(e.currentTask.name?e.currentTask.name:"請選擇任務")},null,8,["textContent"]),Object(n["h"])("div",nt,[e.currentTask.name?(Object(n["t"])(),Object(n["e"])(n["a"],{key:0},[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(e.currentTask.done_pomodoro.length,(function(t){return Object(n["t"])(),Object(n["e"])("span",{key:t,style:{"background-color":e.currentTask.color}},null,4)})),128)),(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(e.currentTask.pomodoro,(function(e){return Object(n["t"])(),Object(n["e"])("span",{key:e})})),128))],64)):Object(n["f"])("",!0)]),Object(n["h"])("button",{class:"task_button",disabled:!e.currentTask.name,onClick:t[1]||(t[1]=Object(n["M"])((function(t){return e.playing?e.pauseTimer():e.startTimer()}),["prevent"]))},Object(n["D"])(e.playing?"PAUSE":"START"),9,["disabled"])])])])}var at={name:"timer",data:function(){return{work_color:["#FBC2EB","#82AAED"],break_color:["#FBED96","#9BDEC8"]}},computed:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(h["e"])(["playing","isBreak"])),Object(h["c"])(["time","clockDeg","currentTask"])),{},{nowColor:function(){return this.isBreak?this.break_color:this.work_color}}),methods:Object(O["a"])(Object(O["a"])({},Object(h["d"])(["togglePlaying"])),Object(h["b"])(["pauseTimer","startTimer"]))},rt=function(){Object(n["G"])((function(e){return{dc0edeee:e.clockDeg,"6450bd2c":e.nowColor[0],"6450bcee":e.nowColor[1]}}))},st=at.setup;at.setup=st?function(e,t){return rt(),st(e,t)}:rt;var it=at;o("89e2");it.render=ct;var dt=it,ut=Object(n["N"])("data-v-28989660");Object(n["w"])("data-v-28989660");var lt={class:"todo_project"},jt={class:"todo_title_wrap"},bt=Object(n["h"])("span",{class:"todo_title_dec"},null,-1),mt=Object(n["h"])("div",{class:"todo_add_icon"},[Object(n["h"])("span",{class:"material-icons"},"add")],-1),pt=Object(n["h"])("label",null,"名稱",-1),Ot=Object(n["h"])("label",null,"番茄數",-1),ht={class:"task_add_button"},ft=Object(n["h"])("button",null,"新增任務",-1),kt={class:"todo_list"};Object(n["u"])();var vt=ut((function(e,t,o,c,a,r){var s=Object(n["A"])("error-message"),i=Object(n["A"])("vee-field"),d=Object(n["A"])("vee-form"),u=Object(n["A"])("todo-item");return Object(n["t"])(),Object(n["e"])("div",lt,[Object(n["h"])("div",jt,[bt,Object(n["h"])("div",{class:"todo_title_name",onClick:t[1]||(t[1]=Object(n["M"])((function(e){return a.open=!a.open}),["prevent"]))},[Object(n["h"])("div",null,Object(n["D"])(o.project.projectName),1),mt]),Object(n["L"])(Object(n["h"])(d,{class:"task_add_board","validation-schema":a.schema,onSubmit:r.addTask},{default:ut((function(){return[Object(n["h"])("div",null,[pt,Object(n["h"])(s,{name:"name",class:"error_message"}),Object(n["h"])(i,{type:"text",class:"add_name",name:"name"})]),Object(n["h"])("div",null,[Ot,Object(n["h"])(s,{name:"pomodoro",class:"error_message"}),Object(n["h"])(i,{type:"number",class:"add_pomodoro",name:"pomodoro"})]),Object(n["h"])("div",ht,[Object(n["h"])("span",{onClick:t[2]||(t[2]=Object(n["M"])((function(){return r.confirmDeleteProject&&r.confirmDeleteProject.apply(r,arguments)}),["prevent"]))},"刪除專案"),ft])]})),_:1},8,["validation-schema","onSubmit"]),[[n["H"],a.open]])]),Object(n["h"])("div",kt,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(r.taskIndex,(function(e){return Object(n["t"])(),Object(n["e"])(u,{key:e,task:o.project.tasks[e],projectIndex:o.projectIndex,taskIndex:e,color:o.project.color},null,8,["task","projectIndex","taskIndex","color"])})),128))])])})),_t=(o("4de4"),o("d81d"),{class:"todo_item"}),gt={class:"item_title"},yt={class:"item_pause"},Tt={class:"item_checker"},xt={class:"checker_pomodoro"};function It(e,t,o,c,a,r){return Object(n["t"])(),Object(n["e"])("div",_t,[Object(n["h"])("div",{class:"item_title_wrap",onClick:t[2]||(t[2]=Object(n["M"])((function(e){return a.open=!a.open}),["prevent"]))},[Object(n["h"])("div",gt,Object(n["D"])(o.task.name),1),Object(n["h"])("div",yt,[Object(n["h"])("span",{class:"material-icons",onClick:t[1]||(t[1]=Object(n["M"])((function(){return r.clickButton&&r.clickButton.apply(r,arguments)}),["stop"])),textContent:Object(n["D"])(r.isCurrentTask&&e.playing?"pause_circle_outline":"play_circle_outline")},null,8,["textContent"])])]),Object(n["L"])(Object(n["h"])("div",Tt,[Object(n["h"])("div",xt,[(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(o.task.done_pomodoro.length,(function(e){return Object(n["t"])(),Object(n["e"])("span",{key:e,style:{"background-color":o.color}},null,4)})),128)),(Object(n["t"])(!0),Object(n["e"])(n["a"],null,Object(n["z"])(o.task.pomodoro,(function(e){return Object(n["t"])(),Object(n["e"])("span",{key:e})})),128))]),Object(n["h"])("span",{class:"material-icons",onClick:t[3]||(t[3]=function(t){return e.doneTask({projectIndex:o.projectIndex,taskIndex:o.taskIndex})})}," done "),Object(n["h"])("span",{class:"material-icons",onClick:t[4]||(t[4]=function(t){return e.deleteTask({projectIndex:o.projectIndex,taskIndex:o.taskIndex})})}," close ")],512),[[n["H"],a.open]])])}var Dt={name:"todoItem",props:["task","projectIndex","taskIndex","color"],data:function(){return{open:!1}},computed:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(h["e"])(["currentTaskIndex","playing","work_time"])),Object(h["c"])(["clockDeg"])),{},{isCurrentTask:function(){return!!this.currentTaskIndex&&(this.projectIndex===this.currentTaskIndex.projectIndex&&this.taskIndex===this.currentTaskIndex.taskIndex)}}),methods:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(h["d"])(["doneTask","deleteTask","setCurrentTask","togglePlaying","resetTime","setIsBreak"])),Object(h["b"])(["startTimer","pauseTimer"])),{},{clickButton:function(){if(this.currentTaskIndex){if(this.isCurrentTask)this.playing?this.pauseTimer():this.startTimer();else if("0deg"===this.clockDeg||confirm("當前計時會喪失，要更換任務嗎?")){var e={projectIndex:this.projectIndex,taskIndex:this.taskIndex};this.setCurrentTask(e),this.resetTime(this.work_time),this.setIsBreak(!1)}}else{var t={projectIndex:this.projectIndex,taskIndex:this.taskIndex};this.setCurrentTask(t),this.resetTime(this.work_time),this.setIsBreak(!1)}}})};Dt.render=It;var wt=Dt,Ct={name:"todoProject",props:["project","projectIndex"],data:function(){return{open:!1,schema:{name:"required",pomodoro:"required|min_value:1"}}},computed:{taskIndex:function(){var e=this,t=this.project.tasks.filter((function(e){return!e.done}));return t.map((function(t){return e.project.tasks.indexOf(t)}))}},components:{todoItem:wt},methods:Object(O["a"])(Object(O["a"])({},Object(h["d"])(["deleteProject"])),{},{addTask:function(e,t){var o=t.resetForm,n={projectIndex:this.projectIndex,task:{name:e.name,pomodoro:parseFloat(e.pomodoro),done_pomodoro:[],done:!1}};this.$store.commit("addTask",n),this.open=!1,o()},confirmDeleteProject:function(){confirm("過往的資料也會遺失。要刪除 ".concat(this.project.projectName," 專案嗎?"))&&this.deleteProject(this.projectIndex)}})},Pt=function(){Object(n["G"])((function(e){return{"41131f9c":e.project.color}}))},Bt=Ct.setup;Ct.setup=Bt?function(e,t){return Pt(),Bt(e,t)}:Pt;var At=Ct;o("6621");At.render=vt,At.__scopeId="data-v-28989660";var Et=At,St=Object(n["N"])("data-v-a5e337f6");Object(n["w"])("data-v-a5e337f6");var Mt={class:"done_item"},Nt={class:"item_title"},Ft=Object(n["h"])("div",{class:"item_project"},[Object(n["h"])("span")],-1),zt={class:"item_checker"};Object(n["u"])();var Wt=St((function(e,t,o,c,a,r){return Object(n["t"])(),Object(n["e"])("div",Mt,[Object(n["h"])("div",{class:"item_title_wrap",onClick:t[1]||(t[1]=Object(n["M"])((function(e){return a.open=!a.open}),["prevent"]))},[Object(n["h"])("div",Nt,Object(n["D"])(r.task.name),1),Ft]),Object(n["L"])(Object(n["h"])("div",zt,[Object(n["h"])("button",{onClick:t[2]||(t[2]=Object(n["M"])((function(t){return e.resetTask(o.doneTask)}),["prevent"]))},"reset")],512),[[n["H"],a.open]])])})),Rt={name:"doneItem",props:["doneTask"],data:function(){return{open:!1}},computed:Object(O["a"])(Object(O["a"])({},Object(h["e"])(["projects"])),{},{task:function(){return this.projects[this.doneTask.projectIndex].tasks[this.doneTask.taskIndex]}}),methods:Object(O["a"])({},Object(h["d"])(["resetTask"]))},Kt=function(){Object(n["G"])((function(e){return{"79ae1428":e.doneTask.color}}))},Gt=Rt.setup;Rt.setup=Gt?function(e,t){return Kt(),Gt(e,t)}:Kt;var Ht=Rt;o("66c6");Ht.render=Wt,Ht.__scopeId="data-v-a5e337f6";var qt=Ht,Lt={name:"Home",data:function(){return{addProjectBoard:!1,schema:{projectName:"required",color:"required"},breakColor:"#9BDEC8",workColor:"#82AAED"}},computed:Object(O["a"])(Object(O["a"])({},Object(h["e"])(["projects","doneTasks","isBreak"])),Object(h["c"])(["projectIndex","DoneTaskCount"])),components:{timer:dt,todoProject:Et,doneItem:qt},methods:{addProject:function(e,t){var o=t.resetForm,n=Object(O["a"])({tasks:[]},e);this.$store.commit("addProject",n),this.addProjectBoard=!1,o()}}};o("e3bd");Lt.render=Xe;var Yt=Lt,Ut=[{path:"/",name:"Home",component:Yt},{path:"/analytics",name:"Analytics",component:P,redirect:{name:"DayAnalytics"},children:[{name:"DayAnalytics",path:"day",component:te},{name:"WeekAnalytics",path:"week",component:Ee}]}],Jt=Object(x["a"])({history:Object(x["b"])("/pomodoro_vue/"),routes:Ut,linkExactActiveClass:"active"}),$t=Jt,Vt=(o("a434"),o("25f0"),{load:function(){return JSON.parse(localStorage.getItem("pomodoroTodo")||null)},save:function(e){localStorage.setItem("pomodoroTodo",JSON.stringify(e))}}),Qt=Object(h["a"])({state:{projects:[{tasks:[{name:"Mockup",pomodoro:2,done_pomodoro:[],done:!1},{name:"Wireframe",pomodoro:4,done_pomodoro:[],done:!1},{name:"UI flow",pomodoro:4,done_pomodoro:[],done:!1},{name:"Function map",pomodoro:2,done_pomodoro:[],done:!1},{name:"A/B test",pomodoro:1,done_pomodoro:[],done:!1}],projectName:"DESIGN",color:"#fbc2eb"},{tasks:[{name:"Function map",pomodoro:1,done_pomodoro:[],done:!1},{name:"Back end",pomodoro:5,done_pomodoro:[],done:!1},{name:"Online meeting",pomodoro:3,done_pomodoro:[],done:!1}],projectName:"CODING",color:"#a6c1ee"},{tasks:[{name:"Study project",pomodoro:2,done_pomodoro:[],done:!1},{name:"Home work",pomodoro:1,done_pomodoro:[],done:!1},{name:"Review class",pomodoro:2,done_pomodoro:[],done:!1},{name:"Read essay",pomodoro:4,done_pomodoro:[],done:!1},{name:"Market Research",pomodoro:1,done_pomodoro:[],done:!1}],projectName:"STUDY",color:"#abecd6"}],doneTasks:[],playing:!1,work_time:[0,5,0],break_time:[0,1,0],time:[0,5,0],timestamp:0,currentTaskIndex:null,isBreak:!1},mutations:{togglePlaying:function(e){e.playing=!e.playing},setIsBreak:function(e,t){e.isBreak=t},updateTimestamp:function(e,t){e.timestamp=t},updateTime:function(e,t){e.time[2]+=t/10,e.time[2]>=100&&(e.time[1]-=1,e.time[2]-=100),e.time[1]<0&&(e.time[1]+=60,e.time[0]-=1)},resetTime:function(e,t){e.time=t.slice(0)},setCurrentTask:function(e,t){e.currentTaskIndex=t},setProjects:function(e,t){e.projects=t.projects,e.doneTasks=t.doneTasks},addTask:function(e,t){var o=e.projects,n=e.doneTasks;o[t.projectIndex].tasks.push(t.task),Vt.save({projects:o,doneTasks:n})},addProject:function(e,t){var o=e.projects,n=e.doneTasks;o.push(t),Vt.save({projects:o,doneTasks:n})},donePomodoro:function(e,t){var o=e.projects,n=e.doneTasks,c=t.mDay?t.mDay:0;void 0===t.mDay&&(o[t.projectIndex].tasks[t.taskIndex].pomodoro-=1),o[t.projectIndex].tasks[t.taskIndex].done_pomodoro.push(Date.now()-864e5*c),Vt.save({projects:o,doneTasks:n})},doneTask:function(e,t){var o=e.projects,n=e.doneTasks,c=o[t.projectIndex].tasks[t.taskIndex],a=t.mDay?t.mDay:0;e.currentTaskIndex&&t.projectIndex===e.currentTaskIndex.projectIndex&&t.taskIndex===e.currentTaskIndex.taskIndex&&(e.currentTaskIndex=null),c.done||(c.done=!0,c.doneDate=Date.now()-864e5*a,n.push({projectIndex:t.projectIndex,taskIndex:t.taskIndex,color:o[t.projectIndex].color})),Vt.save({projects:o,doneTasks:n})},deleteTask:function(e,t){var o=e.projects,n=e.doneTasks;e.projects[t.projectIndex].tasks.splice(t.taskIndex,1),Vt.save({projects:o,doneTasks:n})},deleteProject:function(e,t){e.projects.splice(t,1);var o=[];e.projects.forEach((function(e,t){e.tasks.forEach((function(n,c){n.done&&o.push({projectIndex:t,taskIndex:c,color:e.color})}))})),e.doneTasks=o;var n=e.projects,c=e.doneTasks;Vt.save({projects:n,doneTasks:c})},resetTask:function(e,t){var o=e.projects,n=e.doneTasks,c=o[t.projectIndex].tasks[t.taskIndex];c.pomodoro+=c.done_pomodoro.length,c.done_pomodoro=[],c.done=!1,n.splice(n.indexOf(t),1),Vt.save({projects:o,doneTasks:n})}},actions:{initProjects:function(e){var t=e.commit,o=e.state,n=o.projects,c=o.doneTasks;Vt.save({projects:n,doneTasks:c}),t("setProjects",Vt.load());for(var a=[5,8,12,18,10,5,10],r=[0,1,2,0,1,2,1],s=0;s<=6;s+=1){for(var i=0;i<a[s];i+=1)t("donePomodoro",{projectIndex:r[s],taskIndex:0,mDay:s});t("doneTask",{projectIndex:r[s],taskIndex:0,mDay:s})}},startTimer:function(e){var t=e.commit,o=e.dispatch;t("updateTimestamp",performance.now()),t("togglePlaying"),o("progress")},pauseTimer:function(e){var t=e.commit;t("updateTimestamp",0),t("togglePlaying")},doneTimer:function(e){var t=e.state,o=e.commit,n=e.getters;t.isBreak||o("donePomodoro",n.currentTask),0===n.currentTask.pomodoro?(o("doneTask",n.currentTask),o("setCurrentTask",null),o("resetTime",t.work_time)):(t.isBreak?o("setIsBreak",!1):o("setIsBreak",!0),o("resetTime",t.isBreak?t.break_time:t.work_time))},progress:function(e){var t=e.state,o=e.commit,n=e.dispatch;if(t.playing){if(0===t.time[0]&&0===t.time[1])return o("togglePlaying"),void n("doneTimer");o("updateTime",performance.now()-t.timestamp),o("updateTimestamp",performance.now()),requestAnimationFrame((function(){n("progress")}))}}},getters:{time:function(e){return"".concat(e.time[0].toString().length<2?"0":"").concat(e.time[0],":").concat(e.time[1].toString().length<2?"0":"").concat(e.time[1])},currentTask:function(e){if(null===e.currentTaskIndex)return{};var t=e.currentTaskIndex,o=t.projectIndex,n=t.taskIndex,c=e.projects[o].tasks[n],a=e.projects[o].color;return Object(O["a"])({projectIndex:o,taskIndex:n,color:a},c)},projectIndex:function(e){return e.projects.map((function(t){return e.projects.indexOf(t)}))},clockDeg:function(e){var t=e.isBreak?e.break_time:e.work_time,o=100*(60*t[0]+t[1]),n=o-100*(60*e.time[0]+e.time[1])+e.time[2],c=n/o*360;return"".concat(c,"deg")},DoneTaskCount:function(e){var t=new Date(Date.now()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),c=0;return e.projects.forEach((function(e){e.tasks.forEach((function(e){e.done_pomodoro.forEach((function(e){e>n&&e<o&&(c+=1)}))}))})),c},todayTimestamp:function(){var e=new Date(Date.now());return new Date(e.getFullYear(),e.getMonth(),e.getDate())}}}),Xt=o("7bb1"),Zt=o("3aa8"),eo={install:function(e){e.component("VeeForm",Xt["c"]),e.component("VeeField",Xt["b"]),e.component("ErrorMessage",Xt["a"]),Object(Xt["e"])("required",Zt["c"]),Object(Xt["e"])("min_value",Zt["b"]),Object(Xt["e"])("max_value",Zt["a"]),Object(Xt["d"])({generateMessage:function(e){var t={required:"The field ".concat(e.field," is required."),min_value:"The field ".concat(e.field," is too low."),max_value:"The field ".concat(e.field," is too high.")},o=t[e.rule.name]?t[e.rule.name]:"The field ".concat(e.field," is invalid.");return o},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},to=(o("6418"),o("e382"),Object(n["d"])(T));to.use(Qt),to.use($t),to.use(eo),to.mount("#app")},6418:function(e,t,o){},6621:function(e,t,o){"use strict";o("01ed")},"66c6":function(e,t,o){"use strict";o("395a")},"89e2":function(e,t,o){"use strict";o("4e7f")},c04b:function(e,t,o){"use strict";o("324a")},caad:function(e,t,o){},cd48:function(e,t,o){},d0cf:function(e,t,o){"use strict";o("caad")},d14d:function(e,t,o){},db39:function(e,t,o){},e382:function(e,t,o){},e3bd:function(e,t,o){"use strict";o("d14d")}});
//# sourceMappingURL=app.39476ab9.js.map